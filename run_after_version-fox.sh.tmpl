#!/bin/bash

# install and set .tool-versions globally
echo "ðŸš€ Installing vfox and setting up .tool-versions globally..."
pushd ~/.version-fox || exit
data=$(cat .tool-versions)
while read -r line; do
  if [[ -n "$line" ]]; then  # Check for empty lines
    tool=$(echo "$line" | cut -d ' ' -f 1)
    version=$(echo "$line" | cut -d ' ' -f 2-)
    echo "ðŸ”§ Configuring ${tool} to ${version}"
    vfox install "${tool}@${version}" && vfox use -g "${tool}@${version}"
  fi
done <<< "$data"

popd || exit

echo "ðŸ’¡ System initialisation done. Please open a new terminal now..."
